/*
Built using Kango - Cross-browser extension framework
http://kangoextensions.com/
*/
kango.ui.BrowserButton=function(a){this.superclass.apply(this,arguments);var c=this,b={disabled:!1,title:"",icon:"",badge:{},popup:{},onclick:function(){c._onClicked()}};kango.lang.isObject(a)&&(kango.lang.isString(a.icon)&&(b.icon=a.icon),kango.lang.isString(a.tooltipText)&&(b.title=a.tooltipText));this._button=opera.contexts.toolbar.createItem(b);opera.contexts.toolbar.addItem(this._button);kango.lang.isObject(a)&&kango.lang.isObject(a.popup)&&this.setPopup(a.popup)};
kango.ui.BrowserButton.prototype=kango.oop.extend(kango.ui.ButtonBase,{_button:null,_popupHostUrl:"kango-ui/remote_popup_host.html",_onClicked:function(){return this.fireEvent(this.event.COMMAND)},setTooltipText:function(a){this._button.title=a},setCaption:function(){},setIcon:function(a){this._button.icon=kango.io.getFileUrl(a)},setBadgeValue:function(a){a=null!=a&&0!=a?a.toString():"";this._button.badge.textContent=a},setBadgeBackgroundColor:function(){},setPopup:function(a){this._popupDetails=
a;if(null!=a&&kango.lang.isString(a.url)){var c="",b=a.height,d=a.width;null!=a&&kango.lang.isString(a.url)&&(kango.io.isLocalUrl(a.url)?c=a.url:(c=this._popupHostUrl,b+=4));this._button.popup.href=c;this._button.popup.width=d;this._button.popup.height=b}else this._button.popup={}},getPopupDetails:function(){return this._popupDetails},setContextMenu:function(){}});
